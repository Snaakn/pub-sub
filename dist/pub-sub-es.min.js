!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.createPubSub={})}(this,function(e){"use strict";var t=function(e){return function(t,n){if(e[t]){"object"==typeof t&&(n=(t=t.event).callback);var i=e[t].indexOf(n);e[t]&&(-1===i||i>=e[t].length||(e[t].splice(i,1),e.__times__[t].splice(i,1)))}}},n=function(e){return void 0===e&&(e={__times__:{}}),{publish:function(e){return function(n,i){if(e[n]){var u=t(e);e[n].forEach(function(t,o){t(i),(e.__times__[n][o]-=1)||u(n,t)})}}}(e),subscribe:function(e){return function(t,n,i){return void 0===i&&(i=1/0),e[t]||(e[t]=[],e.__times__[t]=[]),e[t].push(n),e.__times__[t].push(parseInt(i,10)||1/0),{event:t,callback:n}}}(e),unsubscribe:t(e),stack:e}},i=n();e.globalPubSub=i,e.default=n,Object.defineProperty(e,"__esModule",{value:!0})});
