language: node_js
node_js:
- '12'
branches:
  only:
  - master
  - develop
  - "/^v.*$/"
before_script:
- npm install
before_deploy:
- npm run prerelease
deploy:
  - provider: releases
    skip_cleanup: true
    api_key:
      secure: SZOoYaSVsnIZRm2zYe3fpaPYLKZtiw21uPlMa4DaIZmgWvhz9NiMm1OSVD5OuzNA7tK90GtmrNG1ttLGYMk0YWYfD1EBmtgu3BOB0O1relYyDWbMT1BIIOc8yvzJt7JRJAPSDHvGATQ+8W5v5QAuUPm9ajlwM5aCTM9yvANSezbcJV1ZFkPmPvc+/mLJxrLY8ebWYZwF52zN3Q5KaVfDGFYzUf4U+/VOZN9f5VJgz12rqju1C9zSV8IZnknYOudgEgajJQz4MYvEjmXObcr2B9MPrM7v8asdB9WXCSBokxUkQB/phtZ32T8GpP2kAJ+wGB2BMn5whtkkZye8Ssserd1SIuBPlmYmsWrklFhq1NRhh5COORwa7g+w3xTzhDEccaRX3xFMTU/3FFwI9wx1j9fwig6zHCnHjzbeA+e0hv1H855QurHryoMdS3WHY8l+YAyQEj8N64wpeYPj7uKi3E0GGZoYTFIRlv7m93QEXGn+hbz7lSk3PtxwRtBhnreHYJvZmr8HO8QpC2Pn0YyQSSarJugluM0trT0D6iln1Ko4QPJc0VJ7t/ENUXRioduKtMzRtDbL88INK9y7OJUjE3kapfocE46Gnn+S/unzp7s/763vSCwQcRbvh5jHzyLLFHqDvnHPksf0XeOANJ88zm7s/CRWXT4jDzr2fRbxQR0=
    file: dist.zip
    on:
      branch: master
      tags: true
      repo: flekschas/pub-sub
  - provider: npm
    skip_cleanup: true
    email: service@lekschas.de
    api_key:
      secure: UZCK+7VxOsBN+3SPxrU0l2Bitcc/tpzJdC2yHBzKzorayUmeVNmXLLo5POsNW67sY1XnH2hnkky5wDucWEehIWmITxV1Ljk+SxPBwt2Qrc6CtADY2Am8zedQQPW5TRE5jonEuFeAE/5N56U+kMJSO9vFGIpE5sD5u+IZ+rxMT0Laj1Jweci3ST7k2yU0UXBiqnYPaooTHKxYm9t3NccFD2Tb3qAHo0jW8qZdKvnNVto/yUkkubQwyFY157hzOgGyXjGMcC2KMFfDeMCKphlGHuHcAYE1kJbgHfK2k+JxrSVyCoBqd5xEuMuuqDGW5CXbZFDLb9rVetbS6HuKUR3iw3ofkLg7aj+UeniDIo3WXNa26x2hBI9ASIU+0vym+wWdeQQDWHwoAb6T6sTb9vArqh6NVc+ZOJr/sLMZsVb+QtCZ6W/a/jyp+7ex1D6i/2gGwkboNjrzqmQZRJngYZdTnbscukDTpMmQJkNMbcqN9nwAMr1ZLBmwW0ejLjVbtGvxWq+WMJ/WHf7Nc9uYjlrqAhBEFFT9rFylQXnxmmVqma4Sq56T40SzRJYq5zi1PE58T+tcQygU3dwTBMMFVqul3YNZ5w0CeZp98Z4nlkQPOqKLn5AZTtold8Py8sfHMD4RCjbiHDLN1Xcs/dwIOluTr8vU+LLG/ljIx8vEpGyOt7o=
    on:
      branch: master
      tags: true
      repo: flekschas/pub-sub
